<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VRGames: Architecture</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VRGames
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2c7e8d913a1ad354e48e510e27b67d49c1.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Architecture</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2733"></a> This section describes the relationship between the core components of the interaction system and the states that make up the lifecycle of an interaction.</p>
<h1><a class="anchor" id="autotoc_md2734"></a>
States</h1>
<p>The Interaction system has three common states: Hover, Select, and Activate. These states can mean different things to different objects. Hover and Select are loosely related to the traditional GUI concepts of mouse-over and mouse-down. Activate is specific to XR and is a contextual command.</p>
<p>These interaction states always involve both an Interactor and Interactable, and both are notified upon entering or exiting the state.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">State   </th><th class="markdownTableHeadNone">Function    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Hover</b>   </td><td class="markdownTableBodyNone">If an <a class="el" href="class_interactable.html">Interactable</a> is a valid target for the Interactor its state changes to Hover. Hovering on an object signifies an intention to interact with it, but doesn't typically change the behavior of that object, though it might create a visual indicator for this change of state, like how a hovered button changes tint.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Select</b>   </td><td class="markdownTableBodyNone">Selection requires an action such as a button or trigger press from the user to enable the Select state. When an <a class="el" href="class_interactable.html">Interactable</a> is in the Select state, <a class="el" href="namespace_unity.html">Unity</a> considers the selecting Interactor to be interacting with it. For example, Selection can simulate picking up a grabbable object, holding a lever, or preparing to push a door that has focus via hovering.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Activate</b>   </td><td class="markdownTableBodyNone">Activation is an extra action, typically mapped to a button or trigger that affects the currently selected object. This lets the user further interact with an object they've selected. The Activate action depends on the <a class="el" href="class_interactable.html">Interactable</a>. For example, you can use Activate to toggle a grabbable flashlight on/off or shoot a ball launcher. You can hook the component to process Activate into an action without any additional code by hooking an existing callback using the Inspector window under <b><a class="el" href="class_interactable.html">Interactable</a> Events</b> and then add to <b>Activated</b> via UnityEvents.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2735"></a>
Components</h1>
<h2><a class="anchor" id="autotoc_md2736"></a>
Interactors</h2>
<p>Interactor components handle the actions of hovering and selecting <a class="el" href="class_interactable.html">Interactable</a> objects in the world. This component is responsible for creating a list of valid targets that it could potentially hover or select each frame.</p>
<h2><a class="anchor" id="autotoc_md2737"></a>
Interactables</h2>
<p>Interactables are objects in a scene that an Interactor can hover, select, and/or activate. This component is responsible for defining the behavior of those interaction states. The same Interactor might be able to pick up and throw a ball, shoot a gun, or press a 3D button on a keypad.</p>
<h2><a class="anchor" id="autotoc_md2738"></a>
Interaction Manager</h2>
<p>The Interaction Manager acts as an intermediary between Interactors and Interactables. This component is responsible for actually causing the interaction state changes among its group of registered Interactors and Interactables.</p>
<p>The typical setup is to have a single Interaction Manager, where all Interactables can potentially be affected by all Interactors. You can have multiple complementary Interaction Managers, each with their own set of Interactors and Interactables, and turn them on and off to enable or disable sets of interaction. The collection of loaded scenes needs to have at least one Interaction Manager for interactions to work.</p>
<p>Upon being enabled (during the behavior's <code>OnEnable</code>), both Interactors and Interactables register with an Interaction Manager automatically. They will use the first found Interaction Manager if you don't specify one in the Inspector window. Upon being disabled (during the behavior's <code>OnDisable</code>), both Interactors and Interactables unregister from the Interaction Manager they are registered with.</p>
<p>For more detail about the exact mechanism the Interaction Manager uses to trigger the state changes, see Update loop.</p>
<h2><a class="anchor" id="autotoc_md2739"></a>
Controllers</h2>
<p>The XR Controller component provides a way to abstract input data, which Interactors then use to translate into interaction states, notably for selection and activation. The input actions are bound to a tracked device's controls and are read from each frame, which Interactors then query to determine if they should select or activate.</p>
<p>When there are multiple Interactors associated with a hand, it is typical for there to also be multiple XR Controller components also associated with that same hand. In other words, you do not need to only have a single XR Controller component to represent all interactors for a hand. For example, you may want different inputs to be used for a ray-based teleportation interactor and a close range direct interactor for grabbing, and both Interactor components can reference different XR Controller components to read different input values from the same tracked controller device.</p>
<p>This component is also responsible for reading the position and rotation of the tracked device, and applying it to the Transform component.</p>
<h3><a class="anchor" id="autotoc_md2740"></a>
Controller Recorder</h3>
<p>You can also use the Controller Recorder component to record and play back input data. You can use this to to test out interactions or run test scenes without an XR device attached.</p>
<blockquote class="doxtable">
<p>&zwj;[!Note] Controller Recorder currently only works in the <a class="el" href="namespace_unity.html">Unity</a> Editor. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md2741"></a>
Update loop</h1>
<p>The update loop of the Interaction Manager queries Interactors and Interactables, and handles the hover and selection states. First, it asks Interactors for a valid list of targets (used for both hover and selection). It then checks both Interactors and Interactables to see if their existing hover and selection objects are still valid. After invalid previous states have been cleared (exited via <code>OnSelectExiting</code> and <code>OnSelectExited</code>/<code>OnHoverExiting</code> and <code>OnHoverExited</code>), it queries both objects for valid selection and hover states, and the objects enter a new state via <code>OnSelectEntering</code> and <code>OnSelectEntered</code>/<code>OnHoverEntering</code> and <code>OnHoverEntered</code>.</p>
<p><img src="images/interaction-update.svg" alt="interaction-update" style="pointer-events: none;" class="inline"/></p>
<p>All registered Interactables and Interactors are updated before and after interaction state changes by the Interaction Manager explicitly using <code>PreprocessInteractor</code>, <code>ProcessInteractor</code>, and <code>ProcessInteractable</code>. Interactors are always notified before Interactables for both processing and state changes. Interactables and Interactors are not limited from using the normal <code>MonoBehaviour</code> <code>Update</code> call, but per-frame logic should typically be done in one of the process methods instead so that Interactors are able to update before Interactables. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
