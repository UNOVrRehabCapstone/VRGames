<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VRGames: Extending the XR Interaction Toolkit</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VRGames
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2c402b8b719f1a2f0c813f674920042799.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Extending the XR Interaction Toolkit</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2757"></a> You can extend the XR Interaction Toolkit system through either <a href="https://unity3d.com/learn/tutorials/topics/scripting/inheritance">inheritance</a> or composition. Both Interactors and Interactables derive from an abstract base class that you can derive from and use to hook into the Interaction Manager to provide your own functionality. Additionally, you can use event callbacks to add functionality to the existing components. Below is a diagram showing how existing Interactor and <a class="el" href="class_interactable.html">Interactable</a> classes inherit their base classes.</p>
<p><img src="images/class-hierarchy.svg" alt="class-hierarchy" style="pointer-events: none;" class="inline"/></p>
<p>The rest of this documentation details the ways to extend the XR Interaction Toolkit. <br  />
</p>
<h1><a class="anchor" id="autotoc_md2758"></a>
Interactor and Interactable event callbacks</h1>
<p>Interactors and Interactables both have various event callbacks that can be used to drive reactions to interaction state changes. You can use these events to define your own behavior to hover, to select, and to activate state changes with no additional coding.</p>
<p><img src="images/interactable-events-callback-example.png" alt="interactable-events-callback-example" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md2759"></a>
Extending Interactors</h1>
<p>You can derive from the <code>XRBaseInteractor</code> and/or <code>XRBaseControllerInteractor</code> abstract base classes to define your own way of interacting with the world. <a class="el" href="namespace_unity.html">Unity</a> currently provides Direct (collision) and Ray Interactors, but you can decide how you want the user to choose objects in the world and what they can do with them (though typically you do the latter by deriving from the Base <a class="el" href="class_interactable.html">Interactable</a> class).</p>
<p>In addition to standard <a class="el" href="namespace_unity.html">Unity</a> callbacks, you can override the following methods and properties:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Method/Property   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>GetValidTargets</code>**   </td><td class="markdownTableBodyNone">Retrieves the list of interactables that this interactor can interact with this frame.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>isHoverActive</code>**   </td><td class="markdownTableBodyNone">Returns true if this Interactor is in a state where it could hover, false otherwise.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>isSelectActive</code>**   </td><td class="markdownTableBodyNone">Gets whether this interactor is in a state where it could select.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>CanHover</code>**   </td><td class="markdownTableBodyNone">Returns true if this Interactor is in a state where it could select, false otherwise.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>CanSelect</code>**   </td><td class="markdownTableBodyNone">Returns true if the <a class="el" href="class_interactable.html">Interactable</a> is valid for selection this frame, false otherwise.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>selectedInteractableMovementTypeOverride</code>**   </td><td class="markdownTableBodyNone">Gets the movement type to use when overriding the selected <a class="el" href="class_interactable.html">Interactable</a>'s movement.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>OnRegistered</code> and <code>OnUnregistered</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when the Interactor is registered and unregistered from it.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>OnHoverEntering</code> and <code>OnHoverEntered</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when the Interactor first initiates hovering over an <a class="el" href="class_interactable.html">Interactable</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>OnHoverExiting</code> and <code>OnHoverExited</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when the Interactor ends hovering over an <a class="el" href="class_interactable.html">Interactable</a>. The event arguments will describe whether the hover was canceled, such as from either being unregistered due to being disabled or destroyed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>OnSelectEntering</code> and <code>OnSelectEntered</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when the Interactor first initiates selection of an <a class="el" href="class_interactable.html">Interactable</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>OnSelectExiting</code> and <code>OnSelectExited</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when the Interactor ends selection of an <a class="el" href="class_interactable.html">Interactable</a>. The event arguments will describe whether the selection was canceled, such as from either being unregistered due to being disabled or destroyed.   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md2760"></a>
Extending Interactables</h1>
<p>You can derive from the <code>XRBaseInteractable</code> abstract base class to define your own way of interacting with the world. Currently, <a class="el" href="namespace_unity.html">Unity</a> only provides the <a class="el" href="class_grab.html">Grab</a> <a class="el" href="class_interactable.html">Interactable</a>, but you can either create your own Interactables from the base class or derive from <a class="el" href="class_grab.html">Grab</a> <a class="el" href="class_interactable.html">Interactable</a> if you want to adopt grabbing behavior.</p>
<p>In addition to standard <a class="el" href="namespace_unity.html">Unity</a> callbacks, you can override the following methods:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Method   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>IsHoverableBy</code>**   </td><td class="markdownTableBodyNone">Determines if this <a class="el" href="class_interactable.html">Interactable</a> can be hovered by a given Interactor.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>IsSelectableBy</code>**   </td><td class="markdownTableBodyNone">Determines if this <a class="el" href="class_interactable.html">Interactable</a> can be selected by a given Interactor.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>OnRegistered</code> and <code>OnUnregistered</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when the <a class="el" href="class_interactable.html">Interactable</a> is registered and unregistered from it.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>OnHoverEntering</code> and <code>OnHoverEntered</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when an Interactor first initiates hovering over the <a class="el" href="class_interactable.html">Interactable</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>OnHoverExiting</code> and <code>OnHoverExited</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when an Interactor ends hovering over the <a class="el" href="class_interactable.html">Interactable</a>. The event arguments will describe whether the hover was canceled, such as from either being unregistered due to being disabled or destroyed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>OnSelectEntering</code> and <code>OnSelectEntered</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when an Interactor first initiates selection of the <a class="el" href="class_interactable.html">Interactable</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">**<code>OnSelectExiting</code> and <code>OnSelectExited</code>**   </td><td class="markdownTableBodyNone">The Interaction Manager calls these methods when an Interactor ends selection of the <a class="el" href="class_interactable.html">Interactable</a>. The event arguments will describe whether the selection was canceled, such as from either being unregistered due to being disabled or destroyed.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">**<code>OnActivated</code> and <code>OnDeactivated</code>**   </td><td class="markdownTableBodyNone">The Controller Interactor calls these methods when the Interactor begins an activation event on the selected <a class="el" href="class_interactable.html">Interactable</a>, or ends the activation.   </td></tr>
</table>
<p>An <a class="el" href="class_interactable.html">Interactable</a> can be hovered by multiple Interactors at the same time. The <code>firstHoverEntered</code> and <code>lastHoverExited</code> events can be used to control highlight states of objects as they will fire when just the first hover is started, and once all hovers are stopped. Similarly, the <code>firstSelectEntered</code> and <code>lastSelectExited</code> events can be used on Interactables that support multiple selections.</p>
<h2><a class="anchor" id="autotoc_md2761"></a>
Interactable select modes</h2>
<p>The <code>selectMode</code> of an <a class="el" href="class_interactable.html">Interactable</a> is used to set the selection policy. The value is only read by the Interaction Manager when a selection attempt is made, so changing this value from <b>Multiple</b> to <b>Single</b> will not cause selections to be exited.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Select Mode   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Single</b>   </td><td class="markdownTableBodyNone">Can only be selected by a single Interactor at a time and allows other Interactors to take selection by automatically deselecting.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Multiple</b>   </td><td class="markdownTableBodyNone">Can be selected by multiple Interactors at a time.   </td></tr>
</table>
<p>The Multiple option can be disabled in the Inspector window by using the <code>CanSelectMultiple</code> attribute on your component script.</p>
<div class="fragment"><div class="line"><span class="keyword">using </span><a class="code hl_namespace" href="namespace_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit.html">UnityEngine.XR.Interaction.Toolkit</a>;</div>
<div class="line"> </div>
<div class="line">[CanSelectMultiple(<span class="keyword">false</span>)]</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>ExampleInteractable : <a class="code hl_class" href="class_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_1_1_x_r_base_interactable.html">XRBaseInteractable</a></div>
<div class="line">{</div>
<div class="line">}</div>
<div class="ttc" id="aclass_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_1_1_x_r_base_interactable_html"><div class="ttname"><a href="class_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_1_1_x_r_base_interactable.html">UnityEngine.XR.Interaction.Toolkit.XRBaseInteractable</a></div><div class="ttdoc">Abstract base class from which all interactable behaviours derive. This class hooks into the interact...</div><div class="ttdef"><b>Definition</b> XRBaseInteractable.cs:18</div></div>
<div class="ttc" id="anamespace_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_html"><div class="ttname"><a href="namespace_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit.html">UnityEngine.XR.Interaction.Toolkit</a></div><div class="ttdef"><b>Definition</b> ARAnnotationInteractable.cs:5</div></div>
</div><!-- fragment --> <h1><a class="anchor" id="autotoc_md2762"></a>
Inspectors</h1>
<p>Custom <a href="https://docs.unity3d.com/ScriptReference/Editor.html">Editor</a> classes are used to change the appearance and order of properties that appear in the Inspector, particularly for Interactors and Interactables. Derived behaviors that add additional serialized fields (those that are <code>public</code> or have the <code>SerializeField</code> attribute) will automatically have those appear in the Inspector. The Editor classes can be extended to further customize the Inspector, at which point any declared <code>SerializedProperty</code> fields that are assigned will no longer be automatically drawn during <code>DrawDerivedProperties</code>. Within those derived Editor classes, you will typically only need to override methods such as <code>DrawProperties</code> in <code>XRBaseInteractorEditor</code> or <code>XRBaseInteractableEditor</code> rather than the entire <code>OnInspectorGUI</code>.</p>
<div class="fragment"><div class="line"><span class="comment">// ExampleInteractable.cs in Assets.</span></div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>ExampleInteractable : <a class="code hl_class" href="class_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_1_1_x_r_base_interactable.html">XRBaseInteractable</a></div>
<div class="line">{</div>
<div class="line">    [SerializeField]</div>
<div class="line">    <span class="keywordtype">bool</span> m_AdditionalField;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="comment">// ExampleInteractableEditor.cs in an Editor folder in Assets</span></div>
<div class="line"><span class="comment">// which explicitly defines a SerializedProperty to choose</span></div>
<div class="line"><span class="comment">// where to display it in the Inspector rather than using</span></div>
<div class="line"><span class="comment">// the default location.</span></div>
<div class="line">[CustomEditor(typeof(ExampleInteractable), <span class="keyword">true</span>), CanEditMultipleObjects]</div>
<div class="line"><span class="keyword">public</span> <span class="keyword">class </span>ExampleInteractableEditor : XRBaseInteractableEditor</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">protected</span> SerializedProperty m_AdditionalField;</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> OnEnable()</div>
<div class="line">    {</div>
<div class="line">        base.<a class="code hl_function" href="class_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_1_1_x_r_base_interactable.html#a5b0c788b9cbac227d0366844df3b44d5">OnEnable</a>();</div>
<div class="line">        m_AdditionalField = serializedObject.FindProperty(<span class="stringliteral">&quot;m_AdditionalField&quot;</span>);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">protected</span> <span class="keyword">override</span> <span class="keywordtype">void</span> DrawProperties()</div>
<div class="line">    {</div>
<div class="line">        base.DrawProperties();</div>
<div class="line">        <a class="code hl_typedef" href="_fill_hole_8cs.html#a9e20c9f0b7e4884d42aa1543d5bc4761">EditorGUILayout</a>.PropertyField(m_AdditionalField);</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="a_fill_hole_8cs_html_a9e20c9f0b7e4884d42aa1543d5bc4761"><div class="ttname"><a href="_fill_hole_8cs.html#a9e20c9f0b7e4884d42aa1543d5bc4761">EditorGUILayout</a></div><div class="ttdeci">UnityEditor.EditorGUILayout EditorGUILayout</div><div class="ttdef"><b>Definition</b> FillHole.cs:9</div></div>
<div class="ttc" id="aclass_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_1_1_x_r_base_interactable_html_a5b0c788b9cbac227d0366844df3b44d5"><div class="ttname"><a href="class_unity_engine_1_1_x_r_1_1_interaction_1_1_toolkit_1_1_x_r_base_interactable.html#a5b0c788b9cbac227d0366844df3b44d5">UnityEngine.XR.Interaction.Toolkit.XRBaseInteractable.OnEnable</a></div><div class="ttdeci">virtual void OnEnable()</div><div class="ttdoc">See MonoBehaviour.</div><div class="ttdef"><b>Definition</b> XRBaseInteractable.cs:330</div></div>
</div><!-- fragment --><p> The <a href="https://docs.unity3d.com/ScriptReference/Editor.DrawDefaultInspector.html"><code>Editor.DrawDefaultInspector</code></a> method can be used to draw the built-in Inspector instead. The <a href="https://docs.unity3d.com/ScriptReference/PropertyDrawer.html"><code>PropertyDrawer</code></a> class can also be utilized rather than creating custom <code>Editor</code> classes. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
