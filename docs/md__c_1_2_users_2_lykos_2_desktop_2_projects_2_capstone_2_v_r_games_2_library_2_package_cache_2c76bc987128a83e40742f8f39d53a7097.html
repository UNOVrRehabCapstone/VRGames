<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VRGames: General setup</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VRGames
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2c76bc987128a83e40742f8f39d53a7097.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">General setup</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md2763"></a> This section will walk you through the steps to create an XR Origin camera rig for a head-mounted device and create the basic building blocks of XR interactivity.</p>
<p>These steps will guide you through setup to use the action-based behaviors, which is the recommended path.</p>
<h1><a class="anchor" id="autotoc_md2764"></a>
Action-based vs Device-based behaviors</h1>
<p>Several behaviors, such as the <a href="locomotion.md#snap-turn-provider">Snap Turn Provider</a>, have two variants: an Action-based behavior and a Device-based behavior. Action-based behaviors use <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/manual/Actions.html">Actions</a> to indirectly read input from one or more controls. Device-based behaviors use <a href="https://docs.unity3d.com/ScriptReference/XR.InputDevice.TryGetFeatureValue.html"><code>InputDevice.TryGetFeatureValue</code></a> to read input directly from an <a href="https://docs.unity3d.com/ScriptReference/XR.InputDevice.html"><code>InputDevice</code></a> from a specific control configured on the behavior itself.</p>
<p>It is recommended that you use the Action-based variant instead of the Device-based variant to take advantage of the benefits that the Input <a class="el" href="namespace_system.html">System</a> package provides. For example, it separates the logical inputs from the physical inputs, and users can create and switch between customized action maps, bind multiple cross-platform controller inputs to a single semantic action, and use event callbacks of input actions. Some features of the XR Interaction Toolkit package, such as the XR Device Simulator, are only supported when using input actions.</p>
<h1><a class="anchor" id="autotoc_md2765"></a>
Import starter assets</h1>
<p>See the <a href="samples.md#starter-assets">Starter Assets</a> sample for steps to import assets to streamline setup of behaviors. That sample contains a default set of input actions and presets which will be used in this guide.</p>
<h1><a class="anchor" id="autotoc_md2766"></a>
Create the XR Interaction Manager</h1>
<p>Create the XR Interaction Manager using <b>GameObject &gt; XR &gt; Interaction Manager</b>. The component on this GameObject will allow the interactors and interactables in your scenes to interact with each other.</p>
<h1><a class="anchor" id="autotoc_md2767"></a>
Create the XR Origin camera rig for tracked devices</h1>
<p>Create the XR Origin camera rig using <b>GameObject &gt; XR &gt; XR Origin (Action-based)</b>.</p>
<p>The <a href="https://docs.unity3d.com/Packages/com.unity.xr.core-utils@2.0/manual/xr-origin.html">XR Origin</a> component on this GameObject transforms trackable devices like the head-mounted display and controllers to their final position in the <a class="el" href="namespace_unity.html">Unity</a> scene. This is the GameObject that is moved around the environment to achieve locomotion rather than applying movement directly to the Main Camera itself.</p>
<p>This will also create a Camera Offset child GameObject and assign it as the value of <b>Camera Floor Offset Object</b> on XR Origin. This GameObject's position is updated automatically by <a class="el" href="namespace_unity.html">Unity</a> depending on the <b>Tracking Origin Mode</b> value on XR Origin.</p>
<p>For this guide, leave the <b>Tracking Origin Mode</b> set to <b>Not Specified</b>.</p>
<blockquote class="doxtable">
<p>&zwj;[!NOTE] When the mode is <b>Device</b>, the XR runtime will generally report the position of tracked devices relative to a fixed position in space, such as the initial position of the HMD when started. Set the <b>Camera Y Offset</b> on XR Origin to the height you want the Main Camera to be above ground when in that mode. When the mode is <b>Floor</b>, the XR runtime will generally report the position of tracked devices relative to the player's real floor. <a class="el" href="namespace_unity.html">Unity</a> will automatically clear the height of the Camera Offset when in this mode since it is not necessary to artificially raise the tracking origin up. Set the mode to <b>Not Specified</b> to use the default mode of the XR runtime. </p>
</blockquote>
<p>If you already have a Main Camera in your scene, it will automatically move under Camera Offset as a child GameObject when using the menu to create the XR Origin. Otherwise, a new Main Camera will be created. This GameObject with the Main Camera is assigned as the value of <b>Camera GameObject</b> on XR Origin.</p>
<p>To have the position and rotation of the XR HMD update the Main Camera Transform, a Tracked Pose Driver (Input <a class="el" href="namespace_system.html">System</a>) component is added. This component is configured to set the <b>Position Input</b> binding to <code>&lt;XRHMD&gt;/centerEyePosition</code> and the <b>Rotation Input</b> binding to <code>&lt;XRHMD&gt;/centerEyeRotation</code>.</p>
<h1><a class="anchor" id="autotoc_md2768"></a>
Configure XR Controller and Interactor</h1>
<p>An Interactor component controls how a GameObject interacts with <a class="el" href="class_interactable.html">Interactable</a> components in the scene. There are multiple types of Interactors, one of which is an <a class="el" href="md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2ceb3b69f6b6dd145008c4520f21fa4a10.html">XR Ray Interactor</a>, a component that uses <a href="https://docs.unity3d.com/ScriptReference/Physics.Raycast.html">ray casting</a> in order to find valid <a class="el" href="class_interactable.html">Interactable</a> objects in the scene.</p>
<p>To read input from an XR input device, the Interactor requires an XR Controller component.</p>
<p>Select the foldout arrows to expand the hierarchy of the XR Origin, then select the <b>LeftHand Controller</b> GameObject. This GameObject has an <a class="el" href="md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2cfdcc415986ee339503affde09f865e30.html">XR Controller (Action-based)</a> component. If you do not see the <b>Reference</b> set for each action, click the Preset selector (the slider icon) at the top-right of the component in the Inspector window and select <b>XRI Default Left Controller</b>. If you do not see any presets, make sure to import starter assets. Do the same with the <b>RightHand Controller</b> GameObject and select the <b>XRI Default Right Controller</b> preset.</p>
<p>The table below describes the actions on the XR Controller that should be bound to an XR input device:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Action   </th><th class="markdownTableHeadNone">Required for    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Position, Rotation, and Select</b>   </td><td class="markdownTableBodyNone">Basic interaction    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Tracking State</b>   </td><td class="markdownTableBodyNone">Knowing if Position and/or Rotation inputs are valid    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Activate</b>   </td><td class="markdownTableBodyNone">Activating a selected object    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>UI Press</b>   </td><td class="markdownTableBodyNone">Interacting with UI canvas elements    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Haptic Device</b>   </td><td class="markdownTableBodyNone">Identifying the device to send haptic impulses to    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Rotate and Translate <a class="el" href="class_anchor.html" title="Specific functionality for spawned anchors.">Anchor</a></b>   </td><td class="markdownTableBodyNone">Manipulating a selected object at a distance   </td></tr>
</table>
<p>The <a class="el" href="md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2cfdcc415986ee339503affde09f865e30.html">XR Controller (Action-based)</a> component has some input action reference properties which are optional and do not need to be assigned. Refer to the property table in the documentation or refer to the tooltips in the Inspector window for more information.</p>
<p>The Controller and Interactor have limited support for haptic feedback. To enable haptic feedback for an XR Controller (Action-based), specify a <b>Haptic Device Action</b> with a binding path to an active control, such as <code>&lt;XRController&gt;{LeftHand}/*</code>. To enable haptic feedback for an <a class="el" href="md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2ca0d2991584b34c767ef7d77d3c5420a7.html">XR Controller (Device-based)</a>, specify a <b>Controller Node</b> that supports haptic feedback, such as <b>Left Hand</b>. The Interactor can then specify intensities and durations of haptic feedback to play back on select and hover events, which is configured under Haptic Events in the Inspector window.</p>
<p>The <b>Enable Interaction with UI GameObjects</b> option controls whether this XR Ray Interactor can interact with <a class="el" href="namespace_unity.html">Unity</a> UI elements in a world space canvas in the scene. See <a class="el" href="md__c_1_2_users_2_lykos_2_desktop_2_projects_2_capstone_2_v_r_games_2_library_2_package_cache_2cb1c73753bb7ec35a5362cb8dd6540bb0.html">UI Setup</a> for more information and steps for enabling UI interactivity.</p>
<h1><a class="anchor" id="autotoc_md2769"></a>
Enable actions for action-based behaviors</h1>
<p>Actions must be enabled before they react to input. See <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/manual/Actions.html#using-actions">Using Actions</a> in the Input <a class="el" href="namespace_system.html">System</a> documentation for details about this process. Action-based behaviors in this package have properties of type <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/api/UnityEngine.InputSystem.InputActionProperty.html"><code>InputActionProperty</code></a> which can either store an Action directly, or indirectly by referencing an Action contained in an Input Action Asset. Action-based behaviors automatically enable and disable the Actions that are directly defined (that is, not a reference) during their own <code>OnEnable</code> and <code>OnDisable</code> events. Action-based behaviors don't automatically enable or disable the Actions that are indirectly defined (that is, a reference) to allow the enabled state to be managed externally.</p>
<p>The Input Action Manager component can be used to automatically enable or disable the Actions defined in an Input Action Asset during its own <code>OnEnable</code> and <code>OnDisable</code> events.</p>
<p>Use <b>GameObject &gt; Create Empty</b> and rename the GameObject Input Action Manager. Use <b>Component &gt; Input &gt; Input Action Manager</b> to add the component to the GameObject you created. Select <b>Add (+)</b> or set <b>Size</b> to <b>1</b> in the Inspector window to add an element to the <b>Action <a class="el" href="namespace_assets.html">Assets</a></b> list. Select the element's object picker (circle icon) and choose <b>XRI Default Input Actions</b>.</p>
<p><img src="images/input-action-manager.png" alt="input-action-manager" class="inline"/></p>
<p>If you later create additional Input Action <a class="el" href="namespace_assets.html">Assets</a>, add them to the <b>Action <a class="el" href="namespace_assets.html">Assets</a></b> list to enable all its actions also.</p>
<blockquote class="doxtable">
<p>&zwj;[!NOTE] For Input Actions to read from input devices correctly while running in the <a class="el" href="namespace_unity.html">Unity</a> Editor, the Game view may need to have focus depending on the current project settings. If you find that your input, such as button presses on the controllers, are not working, ensure the Game view has focus by clicking it with your mouse. See <a href="https://docs.unity3d.com/Packages/com.unity.inputsystem@1.2/manual/Devices.html#background-and-focus-change-behavior">Background and focus change behavior</a> to learn how to adjust settings to not require focus in the Game view. </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md2770"></a>
Create an Interactable for the player to grab</h1>
<p><a class="el" href="class_interactable.html">Interactable</a> components define how the user can interact with objects in a scene. To create a basic 3D cube that can be grabbed, use <b>GameObject &gt; XR &gt; <a class="el" href="class_grab.html">Grab</a> <a class="el" href="class_interactable.html">Interactable</a></b>.</p>
<p>For this example, create a plane for the cube to rest on so it does not fall out of reach. Use <b>GameObject &gt; 3D Object &gt; Plane</b>, then click on the Cube and click and drag the Transform gizmo to position it above the Plane GameObject.</p>
<p>In the screenshot below, the GameObject with the XR <a class="el" href="class_grab.html">Grab</a> <a class="el" href="class_interactable.html">Interactable</a> supports grabbing, moving, dropping, and throwing with smoothed tracking.</p>
<p><img src="images/interactable-setup.png" alt="interactable-setup" class="inline"/></p>
<blockquote class="doxtable">
<p>&zwj;[!TIP] Interactables added through the <b>GameObject &gt; XR</b> menu use a Box Collider to detect interaction, but other types of Collider components such as a convex Mesh Collider can provide better hit detection at the cost of performance. </p>
</blockquote>
<p>To configure an existing GameObject to make it an interactable object to allow the user to grab it, select it in your scene and add these components:</p><ul>
<li>Add <b>Component &gt; XR &gt; XR <a class="el" href="class_grab.html">Grab</a> <a class="el" href="class_interactable.html">Interactable</a></b></li>
<li>Add <b>Component &gt; Physics &gt; Box Collider</b></li>
</ul>
<h1><a class="anchor" id="autotoc_md2771"></a>
Enable an XR provider</h1>
<p>Open <b>Edit &gt; Project Settings &gt; XR Plug-in Management</b>. If you do not yet have the package installed, click <b>Install XR Plugin Management</b> in that window. Select one or more of the plug-in providers for the device(s) you wish to target, such as <a href="https://docs.unity3d.com/Packages/com.unity.xr.oculus@latest/">Oculus</a> or <a href="https://docs.unity3d.com/Packages/com.unity.xr.openxr@latest/">Open XR</a>. Open XR will require additional configuration, see its package documentation for those steps. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.10.0 </li>
  </ul>
</div>
</body>
</html>
